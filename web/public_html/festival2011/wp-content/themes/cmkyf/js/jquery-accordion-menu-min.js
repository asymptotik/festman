(function(b){b.fn.accordionMenu=function(a){a=b.extend({collapsible:true,childType:"a",classActive:"ui-state-active",classDefault:"ui-state-default"},a||{});var d=this;b(this).children("li").children("ul").hide();a.collapsible==false&&b(this).children("li:first").children("ul:first").show();b(this).children("li").each(function(){b(this).addClass(a.classDefault);b(this).children("ul").each(function(){var c=this;b(this).children("li").addClass(a.classDefault);b(this).children("li").children("a").click(function(){b(d).find("."+
a.classActive).removeClass(a.classActive).addClass(a.classDefault);b(c).parent("li").removeClass(a.classDefault).addClass(a.classActive);b(c).find("."+a.classActive).removeClass(a.classActive).addClass(a.classDefault);b(this).parent("li").removeClass(a.classDefault).addClass(a.classActive)})});b(this).children("a:first").click(function(){b(d).find("."+a.classActive).removeClass(a.classActive).addClass(a.classDefault);b(this).parent("li").removeClass(a.classDefault).addClass(a.classActive);var c=b(this).next();
if(c.is("ul")&&c.is(":visible")){a.collapsible==true&&c.slideUp("normal");return false}if(c.is("ul")&&!c.is(":visible")){b("#menu ul:visible").slideUp("normal");c.slideDown("normal");return false}})});return b}})(jQuery);
